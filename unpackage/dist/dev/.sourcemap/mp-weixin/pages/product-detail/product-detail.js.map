{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Hbulider/Aqqle/pages/product-detail/product-detail.vue?7651","webpack:///D:/Hbulider/Aqqle/pages/product-detail/product-detail.vue?15e4","webpack:///D:/Hbulider/Aqqle/pages/product-detail/product-detail.vue?b9a9","webpack:///D:/Hbulider/Aqqle/pages/product-detail/product-detail.vue?0458","uni-app:///pages/product-detail/product-detail.vue","webpack:///D:/Hbulider/Aqqle/pages/product-detail/product-detail.vue?e2b1"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":"gJAAA,KAGA,YACA,W,mDAFAA,GAAGC,kCAAoCC,EAGvCC,EAAWC,a,+DCLX,sHACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,0CACZ,aAAAF,E,yCCvBf,sQ,gCCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G,gCCRvB,6GAAsuB,eAAG,G,u9CC4EzuB,CACA,KADA,WAEA,OACA,YACA,aACA,YACA,QACA,oBACA,oBACA,iBACA,eACA,eACA,gBACA,aACA,eACA,gCACA,mCACA,mCACA,aAEA,iBACA,cACA,YACA,oBACA,cACA,sBACA,qBACA,iBACA,yBACA,wBACA,iBACA,yBACA,wBACA,iBACA,oBACA,kBACA,kBAEA,6CACA,YACA,uBACA,0BAGA,OA5CA,SA4CA,cACA,yCACA,iBACA,mBACA,iBACA,iBACA,6BACA,wBACA,oBACA,uHAEA,uBAFA,uBAGA,kEAHA,OAKA,sCACA,2CACA,uCACA,sCACA,uCATA,6CAYA,WACA,SACA,4BAEA,kBACA,oCACA,sCACA,mCAGA,UACA,UADA,WAEA,4GACA,WAGA,SAEA,eAFA,SAEA,WACA,kBACA,qBACA,gBACA,eACA,gBAGA,iBAVA,WAUA,WAEA,WACA,SACA,8DACA,MACA,iBACA,kBAGA,wBAEA,iDACA,sCACA,2DAEA,yCACA,iEAEA,yCACA,iEAEA,gDACA,+EACA,2CAEA,qDACA,sCACA,0CACA,gDACA,oDAIA,oBA5CA,SA4CA,GAGA,IADA,8BACA,mBACA,8BAGA,sBAEA,OArDA,WAsDA,kBAGA,UAzDA,WA0DA,oBAGA,UA7DA,WA8DA,oBAGA,YAjEA,SAiEA,GACA,yBAEA,4BAEA,wCAGA,cAzEA,SAyEA,GACA,2BAEA,gDACA,mDAGA,iBAhFA,SAgFA,GACA,8BAEA,sDACA,yDAGA,iBAvFA,SAuFA,GACA,8BAEA,sDACA,yDAGA,MA9FA,WA8FA,WACA,aACA,qCACA,gBACA,sBACA,iBACA,uBACA,oBACA,WACA,yBACA,2BACA,WACA,sBACA,YACA,0BACA,mCACA,yCACA,yCACA,kBACA,kBACA,wBACA,2BAOA,aA1HA,WA2HA,yBACA,aACA,wBAEA,kBACA,yBACA,aACA,wBAEA,mBAEA,YAtIA,WAsIA,WACA,sBACA,yCACA,kCACA,6CACA,6CACA,kCACA,8BACA,+BACA,uCACA,yCACA,KAEA,YAnJA,WAmJA,WACA,yCACA,kCACA,6CACA,6CACA,uBACA,qBACA,MAGA,mBA7JA,WA6JA,WACA,kCACA,yCACA,eACA,aACA,oBACA,6BACA,+BACA,WAMA,0BA3KA,SA2KA,gBACA,kCACA,mBACA,mBACA,uBACA,kCACA,aACA,4IACA,WADA,gBAEA,oBACA,yBACA,mBAJA,uBAMA,IANA,YAMA,iBANA,qBAOA,gCAPA,yEAUA,6DAVA,eAUA,EAVA,iBAWA,0BAXA,QAMA,IANA,uBAaA,mBAbA,QAeA,IAfA,2GAqBA,YAvMA,SAuMA,kBACA,kCACA,8BACA,gBACA,MACA,2BACA,8BAEA,IACA,CACA,WACA,cAGA,oBACA,yDAMA,iBA5NA,SA4NA,OACA,OACA,KACA,sBACA,gCACA,iCACA,0BACA,WACA,0BACA,cACA,eACA,SACA,wBACA,cACA,iBACA,qBACA,gBACA,wBAGA,6BAGA,YACA,gBACA,mB,0EClZA,6GAAi4C,eAAG,G","file":"pages/product-detail/product-detail.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/product-detail/product-detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./product-detail.vue?vue&type=template&id=685304e6&scoped=true&\"\nvar renderjs\nimport script from \"./product-detail.vue?vue&type=script&lang=js&\"\nexport * from \"./product-detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./product-detail.vue?vue&type=style&index=0&id=685304e6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"685304e6\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/product-detail/product-detail.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./product-detail.vue?vue&type=template&id=685304e6&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./product-detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./product-detail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"product-detail bg-color\" style=\"height: 100vh;overflow-y: auto;\">\r\n\t\t<view class=\"sticky\">\r\n\t\t\t<view class=\"status_bar\"></view>\r\n\t\t\t<view class=\"wx-nav\">\r\n\t\t\t\t<view class=\"iconfont\" style=\"margin:0rpx 10rpx; color: #ffffff;font-size: 36rpx;\" @tap=\"backTo()\">&#xe779;</view>\r\n\t\t\t\t<view class=\"wx-nav-title\">产品详情</view>\r\n\t\t\t\t<view class=\"iconfont\" style=\"margin:0rpx 10rpx; color: transparent;font-size: 36rpx;\">&#xe779;</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<swiper class=\"prouct-review-swiper\" :indicator-dots=\"true\">\r\n\t\t\t<swiper-item class=\"swiper-item\" v-for=\"(item, index) in productReviewArr\" :key=\"index\"><image style=\"width: 100%;\" :src=\"item\" mode=\"widthFix\"></image></swiper-item>\r\n\t\t</swiper>\r\n\t\t<scroll-view scroll-y=\"true\">\r\n\t\t\t<view class=\"product-message\">\r\n\t\t\t\t<view class=\"buy-tips\">新款，每位顾客限购 2 部</view>\r\n\t\t\t\t<view class=\"product-name\">{{ name }}</view>\r\n\t\t\t\t<view class=\"product-choose\" @tap=\"toBuyPage()\">\r\n\t\t\t\t\t<view class=\"choose-type\">\r\n\t\t\t\t\t\t选择规格：\r\n\t\t\t\t\t\t<view class=\"description\">{{ name }} {{ paramsColor }} {{ paramsStorage.size }} {{ paramsConnectWay.size }}{{ paramsMacStorage.size }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"choose-type\">\r\n\t\t\t\t\t\t选择门店：\r\n\t\t\t\t\t\t<view class=\"description\">{{ nearlyShop }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"distance\">\r\n\t\t\t\t\t\t<view class=\"iconfont\">&#xe63e;</view>\r\n\t\t\t\t\t\t距离你 {{ distance }} km\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"iconfont jump-btn\">&#xe775;</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"product-introduce\"><image style=\"width: 100vw;\" :src=\"introduce\" mode=\"widthFix\"></image></view>\r\n\t\t</scroll-view>\r\n\t\t<view class=\"buy-content\">\r\n\t\t\t<view class=\"product-price\">￥{{ add_price }}</view>\r\n\t\t\t<view class=\"buy-btn\" @tap=\"toBuyPage()\">前往购买</view>\r\n\t\t</view>\r\n\t\t<view class=\"slide-up\" v-show=\"isShowBuyPage\">\r\n\t\t\t<view class=\"buy-page-mask\" @tap=\"slideUpHide\" :animation=\"animationData2\">\r\n\t\t\t\t<view class=\"buy-page\" @tap.native.stop :animation=\"animationData1\">\r\n\t\t\t\t\t<view class=\"line\"></view>\r\n\t\t\t\t\t<scroll-view class=\"scroll-view-content\" scroll-y=\"true\" style=\"height: 80vh;\">\r\n\t\t\t\t\t\t<view class=\"buy-page-header\">\r\n\t\t\t\t\t\t\t<view class=\"buy-page-product-img\"><image :src=\"buyPageImg\" mode=\"widthFix\" style=\"width: 100%;\"></image></view>\r\n\t\t\t\t\t\t\t<view class=\"buy-page-title\">{{ name }}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<BuyPageChoose :chooseArr=\"colorArr\" @getClickHandler=\"chooseColor\" :activeIndex=\"activeIndex_color\" :title=\"'选择外观'\"></BuyPageChoose>\r\n\t\t\t\t\t\t<BuyPageChoose :chooseArr=\"storageArr\" @getClickHandler=\"chooseStorage\" :activeIndex=\"activeIndex_storage\" :title=\"'选择储存容量'\"></BuyPageChoose>\r\n\t\t\t\t\t\t<BuyPageChoose\r\n\t\t\t\t\t\t\t:chooseArr=\"macStorageArr\"\r\n\t\t\t\t\t\t\t@getClickHandler=\"chooseMacStorage\"\r\n\t\t\t\t\t\t\t:activeIndex=\"activeIndex_macStorage\"\r\n\t\t\t\t\t\t\t:title=\"'选择芯片/内存/储存设备'\"\r\n\t\t\t\t\t\t></BuyPageChoose>\r\n\t\t\t\t\t\t<BuyPageChoose :chooseArr=\"connectWayArr\" @getClickHandler=\"chooseConnectWay\" :activeIndex=\"activeIndex_connectWay\" :title=\"'选择连接'\"></BuyPageChoose>\r\n\t\t\t\t\t\t<view style=\"margin: 50rpx 30rpx 0 30rpx\">\r\n\t\t\t\t\t\t\t<view style=\"font-size: 28rpx; font-weight: 900; margin-bottom: 20rpx;\">选择门店</view>\r\n\t\t\t\t\t\t\t<NearlyShopList :nearlyShopArr=\"nearlyShopArr\" :nearlyShopImgArr=\"nearlyShopImgArr\" @getShopMessage=\"getShopMessage\"></NearlyShopList>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"buy-content\">\r\n\t\t\t\t<view class=\"product-price\">￥{{ add_price }}</view>\r\n\t\t\t\t<view class=\"buy-btn\" @tap.native.stop=\"toPay()\">前往购买</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport BuyPageChoose from '../../components/product-detail/BuyPageChoose.vue';\r\nimport NearlyShopList from '../../components/location/NearlyShopList.vue';\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttype: String,\r\n\t\t\tename: String,\r\n\t\t\tdate: Number,\r\n\t\t\tname: '', //商品名字\r\n\t\t\tproductReviewArr: [], //商品预览图\r\n\t\t\tnearlyShop: '查找中...',\r\n\t\t\tnearlyAddress: '',\r\n\t\t\tshopLat: Number,\r\n\t\t\tshopLng: Number,\r\n\t\t\tdistance: Number,\r\n\t\t\tintroduce: '', //商品介绍长图\r\n\t\t\tparamsColor: '', //颜色参数\r\n\t\t\tparamsStorage: { size: '', price: 0 }, //储存参数\r\n\t\t\tparamsConnectWay: { size: '', price: 0 }, //连接方式参数\r\n\t\t\tparamsMacStorage: { size: '', price: 0 }, //mac储存参数\r\n\t\t\tprice: Number,\r\n\t\t\t// 购买页\r\n\t\t\tisShowBuyPage: false,\r\n\t\t\tbuyPageImg: '', //购买页预览图\r\n\t\t\tcolorArr: [], //可选颜色\r\n\t\t\tactiveIndex_color: 0, //颜色选择，默认第一个\r\n\t\t\tstorageArr: [], //可选储存容量\r\n\t\t\tactiveIndex_storage: 0, //储存容量选择，默认第一个\r\n\t\t\tstorage_price: Number, //储存容量加价\r\n\t\t\tmacStorageArr: [], //可选储存容量,mac\r\n\t\t\tactiveIndex_macStorage: 0, //储存容量选择,mac，默认第一个\r\n\t\t\tmacStorage_price: Number, //mac储存容量加价\r\n\t\t\tconnectWayArr: [], //可选连接方式\r\n\t\t\tactiveIndex_connectWay: 0, //连接方式选择，默认第一个\r\n\t\t\tconnectWay_price: Number, //连接方式加价\r\n\t\t\tnearlyShopArr: [], //最近的授权点\r\n\t\t\tnearlyShopImgArr: [], //最近的授权点照片\r\n\t\t\tanimationData1: {},\r\n\t\t\tanimationData2: {},\r\n\t\t\t// 定位\r\n\t\t\tsubkey: 'M7ABZ-22FH4-7URUL-XDEVT-MSXO2-3FBLZ',\r\n\t\t\tqqmapsdk: {},\r\n\t\t\tcurrentLatitude: Number,\r\n\t\t\tcurrentLongitude: Number\r\n\t\t};\r\n\t},\r\n\tonLoad(option) {\r\n\t\tconst item = JSON.parse(decodeURIComponent(option.item));\r\n\t\tthis.type = item.type;\r\n\t\tthis.ename = item.ename;\r\n\t\tthis.date = item.date;\r\n\t\tthis.name = item.name;\r\n\t\tthis.price = parseInt(item.price);\r\n\t\tthis.getProductDetail(); //获取商品详细信息\r\n\t\tthis.setAnimation(); //初始化动画\r\n\t\t(async () => {\r\n\t\t\t// 获取当前定位\r\n\t\t\tawait this.getCurrentLocaiton();\r\n\t\t\tawait this.getAppleShopInCurrentCity(this.currentLatitude, this.currentLongitude);\r\n\t\t\t// 购买页选择门店展示\r\n\t\t\tthis.nearlyShop = this.nearlyShopArr[0].title;\r\n\t\t\tthis.nearlyAddress = this.nearlyShopArr[0].address;\r\n\t\t\tthis.distance = this.nearlyShopArr[0].distance;\r\n\t\t\tthis.shopLat = this.nearlyShopArr[0].latitude;\r\n\t\t\tthis.shopLng = this.nearlyShopArr[0].longitude;\r\n\t\t})();\r\n\t\t// 获取地图相关数据\r\n\t\tthis.$http\r\n\t\t\t.request({\r\n\t\t\t\turl: '/location-list/data'\r\n\t\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.nearlyShopImgArr = res.data[2].imgUrl;\r\n\t\t\t\tthis.currentLocationImg = res.data[0].imgUrl;\r\n\t\t\t\tthis.locationImg = res.data[1].imgUrl;\r\n\t\t\t});\r\n\t},\r\n\tcomputed: {\r\n\t\tadd_price() {\r\n\t\t\tvar result = parseInt(this.price + this.paramsStorage.price + this.paramsMacStorage.price + this.paramsConnectWay.price);\r\n\t\t\treturn result;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t// 获取选择门店\r\n\t\tgetShopMessage(name, address, distance, shopLat, shopLng) {\r\n\t\t\tthis.nearlyShop = name;\r\n\t\t\tthis.nearlyAddress = address;\r\n\t\t\tthis.distance = distance;\r\n\t\t\tthis.shopLat = shopLat;\r\n\t\t\tthis.shopLng = shopLng;\r\n\t\t},\r\n\t\t// 获取商品详细描述\r\n\t\tgetProductDetail() {\r\n\t\t\t// 获取商品预览图，默认第一颜色\r\n\t\t\tthis.$http\r\n\t\t\t\t.request({\r\n\t\t\t\t\turl: '/product-detail/' + this.type + '/' + this.ename + '/' + this.date,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tename: this.ename,\r\n\t\t\t\t\t\tdate: this.date\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\t//当前规格\r\n\t\t\t\t\tthis.paramsColor = res.data.productReview.color[0].type;\r\n\t\t\t\t\tif (res.data.productReview.storage.length) {\r\n\t\t\t\t\t\tthis.paramsStorage.size = res.data.productReview.storage[0].size;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data.productReview.connectWay.length) {\r\n\t\t\t\t\t\tthis.paramsConnectWay.size = res.data.productReview.connectWay[0].size;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data.productReview.macstorage.length) {\r\n\t\t\t\t\t\tthis.paramsMacStorage.size = res.data.productReview.macstorage[0].chip;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.productReviewArr = res.data.productReview.imgUrl; //商品预览\r\n\t\t\t\t\tthis.productReviewArr.unshift(...res.data.productReview.color[0].imgUrl); //当前颜色商品预览放前几张\r\n\t\t\t\t\tthis.introduce = res.data.productReview.introduce; //商品详细介绍\r\n\t\t\t\t\t// 购买页相关\r\n\t\t\t\t\tthis.buyPageImg = res.data.productReview.color[0].imgUrl[0]; //购买页当前商品图片预览\r\n\t\t\t\t\tthis.colorArr = res.data.productReview.color; //商品可选颜色\r\n\t\t\t\t\tthis.storageArr = res.data.productReview.storage; //商品可选储存\r\n\t\t\t\t\tthis.macStorageArr = res.data.productReview.macstorage; //mac可选储存\r\n\t\t\t\t\tthis.connectWayArr = res.data.productReview.connectWay; //商品可选连接方式\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t// 点击购买页按钮触发预览图更新\r\n\t\tupdateProductReview(index) {\r\n\t\t\t// 修改预览图\r\n\t\t\tvar currentProduct_color = this.colorArr[index].imgUrl;\r\n\t\t\tfor (let i = 0; i < currentProduct_color.length; i++) {\r\n\t\t\t\tthis.productReviewArr[i] = currentProduct_color[i];\r\n\t\t\t}\r\n\t\t\t// 修改购买页预览图\r\n\t\t\tthis.buyPageImg = currentProduct_color[0];\r\n\t\t},\r\n\t\tbackTo() {\r\n\t\t\tuni.navigateBack();\r\n\t\t},\r\n\t\t// 点击购买\r\n\t\ttoBuyPage() {\r\n\t\t\tthis.slideUpShow();\r\n\t\t},\r\n\t\t// 关闭购买页\r\n\t\tcloseMask() {\r\n\t\t\tthis.slideUpHide();\r\n\t\t},\r\n\t\t// 选择颜色\r\n\t\tchooseColor(index) {\r\n\t\t\tthis.activeIndex_color = index;\r\n\t\t\t// 触发预览图更新\r\n\t\t\tthis.updateProductReview(index);\r\n\t\t\t// 修改颜色参数\r\n\t\t\tthis.paramsColor = this.colorArr[index].type;\r\n\t\t},\r\n\t\t// 选择储存容量\r\n\t\tchooseStorage(index) {\r\n\t\t\tthis.activeIndex_storage = index;\r\n\t\t\t// 修改储存参数\r\n\t\t\tthis.paramsStorage.size = this.storageArr[index].size;\r\n\t\t\tthis.paramsStorage.price = this.storageArr[index].price;\r\n\t\t},\r\n\t\t// 选择储存容量,mac\r\n\t\tchooseMacStorage(index) {\r\n\t\t\tthis.activeIndex_macStorage = index;\r\n\t\t\t// 修改mac储存参数;\r\n\t\t\tthis.paramsMacStorage.size = this.macStorageArr[index].size;\r\n\t\t\tthis.paramsMacStorage.price = this.macStorageArr[index].price;\r\n\t\t},\r\n\t\t// 选择连接方式\r\n\t\tchooseConnectWay(index) {\r\n\t\t\tthis.activeIndex_connectWay = index;\r\n\t\t\t// 修改连接方式参数\r\n\t\t\tthis.paramsConnectWay.size = this.connectWayArr[index].size;\r\n\t\t\tthis.paramsConnectWay.price = this.connectWayArr[index].price;\r\n\t\t},\r\n\t\t// 跳转支付\r\n\t\ttoPay() {\r\n\t\t\tuni.showModal({\r\n\t\t\t\tcontent: '即将打开“订单中心 Aqqle 授权专营店”小程序？',\r\n\t\t\t\tcancelText: '取消',\r\n\t\t\t\tcancelColor: '#7f7f7f',\r\n\t\t\t\tconfirmText: '允许',\r\n\t\t\t\tconfirmColor: '#007aff',\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\tuni.navigateToMiniProgram({\r\n\t\t\t\t\t\t\tappId: 'wxa78cf6bb9295673e',\r\n\t\t\t\t\t\t\textraData: {\r\n\t\t\t\t\t\t\t\tgoodsImg: this.buyPageImg,\r\n\t\t\t\t\t\t\t\tname: this.name,\r\n\t\t\t\t\t\t\t\tparamsColor: this.paramsColor,\r\n\t\t\t\t\t\t\t\tparamsStorage: this.paramsStorage.size,\r\n\t\t\t\t\t\t\t\tparamsConnectWay: this.paramsConnectWay.size,\r\n\t\t\t\t\t\t\t\tparamsMacStorage: this.paramsMacStorage.size,\r\n\t\t\t\t\t\t\t\tprice: this.add_price,\r\n\t\t\t\t\t\t\t\tshop: this.nearlyShop,\r\n\t\t\t\t\t\t\t\taddress: this.nearlyAddress,\r\n\t\t\t\t\t\t\t\tdistance: this.distance\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tsetAnimation() {\r\n\t\t\tvar animation1 = uni.createAnimation({\r\n\t\t\t\tduration: 200,\r\n\t\t\t\ttimingFunction: 'ease'\r\n\t\t\t});\r\n\t\t\tthis.animation1 = animation1;\r\n\t\t\tvar animation2 = uni.createAnimation({\r\n\t\t\t\tduration: 200,\r\n\t\t\t\ttimingFunction: 'ease'\r\n\t\t\t});\r\n\t\t\tthis.animation2 = animation2;\r\n\t\t},\r\n\t\tslideUpShow() {\r\n\t\t\tthis.isShowBuyPage = true;\r\n\t\t\tthis.animation1.bottom('-800rpx').step();\r\n\t\t\tthis.animation2.opacity(0).step();\r\n\t\t\tthis.animationData1 = this.animation1.export();\r\n\t\t\tthis.animationData2 = this.animation2.export();\r\n\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\tthis.animation1.bottom(0).step();\r\n\t\t\t\tthis.animation2.opacity(1).step();\r\n\t\t\t\tthis.animationData1 = this.animation1.export();\r\n\t\t\t\tthis.animationData2 = this.animation2.export();\r\n\t\t\t}, 10);\r\n\t\t},\r\n\t\tslideUpHide() {\r\n\t\t\tthis.animation1.bottom('-690rpx').step();\r\n\t\t\tthis.animation2.opacity(0).step();\r\n\t\t\tthis.animationData1 = this.animation1.export();\r\n\t\t\tthis.animationData2 = this.animation2.export();\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.isShowBuyPage = false;\r\n\t\t\t}, 200);\r\n\t\t},\r\n\t\t// 获取当前定位\r\n\t\tgetCurrentLocaiton() {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tthis.qqmapsdk = new this.QQMapWX({ key: this.subkey });\r\n\t\t\t\tuni.getLocation({\r\n\t\t\t\t\ttype: 'gcj02',\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tthis.currentLatitude = res.latitude;\r\n\t\t\t\t\t\tthis.currentLongitude = res.longitude;\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 获取城市周边苹果授权店\r\n\t\tgetAppleShopInCurrentCity(lat, lng) {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tthis.nearlyShopArr = [];\r\n\t\t\t\tthis.qqmapsdk.search({\r\n\t\t\t\t\tkeyword: 'Apple授权专营店-店',\r\n\t\t\t\t\tlocation: { latitude: lat, longitude: lng },\r\n\t\t\t\t\tpage_size: 20,\r\n\t\t\t\t\tsuccess: async res => {\r\n\t\t\t\t\t\tif (res.count == 0) {\r\n\t\t\t\t\t\t\tthis.loadingTip = '暂无门店';\r\n\t\t\t\t\t\t\tthis.nearlyShopArr = [{ id: 0 }];\r\n\t\t\t\t\t\t\tthis.isShowLoading = true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tfor (let i = 0; i < res.data.length; i++) {\r\n\t\t\t\t\t\t\t\tif (res.data[i].title.indexOf('-') == -1) {\r\n\t\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tconst distance = await this.getDistance(res.data[i].location.lat, res.data[i].location.lng);\r\n\t\t\t\t\t\t\t\tawait this.addNearlyShopArr(res, i, distance);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.isShowLoading = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 获取当前定位点到门店距离\r\n\t\tgetDistance(lat, lng, title) {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tthis.qqmapsdk.calculateDistance({\r\n\t\t\t\t\tmode: 'straight',\r\n\t\t\t\t\tfrom: {\r\n\t\t\t\t\t\tlatitude: this.currentLatitude,\r\n\t\t\t\t\t\tlongitude: this.currentLongitude\r\n\t\t\t\t\t},\r\n\t\t\t\t\tto: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlatitude: lat,\r\n\t\t\t\t\t\t\tlongitude: lng\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tsuccess: data => {\r\n\t\t\t\t\t\tresolve((data.result.elements[0].distance / 1000).toFixed(2));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 添加授权店标记点\r\n\t\taddNearlyShopArr(res, i, distance) {\r\n\t\t\tvar marker = {\r\n\t\t\t\tid: i,\r\n\t\t\t\ttitle: res.data[i].title,\r\n\t\t\t\tlatitude: res.data[i].location.lat,\r\n\t\t\t\tlongitude: res.data[i].location.lng,\r\n\t\t\t\taddress: res.data[i].address,\r\n\t\t\t\tdistance: distance,\r\n\t\t\t\ticonPath: this.locationImg,\r\n\t\t\t\twidth: '40rpx',\r\n\t\t\t\theight: '40rpx',\r\n\t\t\t\tcallout: {\r\n\t\t\t\t\tcontent: res.data[i].title,\r\n\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\tfontSize: '26rpx',\r\n\t\t\t\t\tborderRadius: '12rpx',\r\n\t\t\t\t\tbgColor: 'black',\r\n\t\t\t\t\tpadding: '10rpx 10rpx'\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tthis.nearlyShopArr.push(marker);\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\tBuyPageChoose,\r\n\t\tNearlyShopList\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.prouct-review-swiper {\r\n\theight: 43vh;\r\n\t.swiper-item {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t}\r\n}\r\n\r\n.product-message {\r\n\tpadding: 30rpx;\r\n\t.buy-tips {\r\n\t\tfont-size: 18rpx;\r\n\t\tfont-weight: 900;\r\n\t\tcolor: #ff9722;\r\n\t}\r\n\t.product-name {\r\n\t\tfont-size: 38rpx;\r\n\t\tfont-weight: 900;\r\n\t}\r\n\t.product-choose {\r\n\t\tposition: relative;\r\n\t\tmargin-top: 20rpx;\r\n\t\tpadding: 20rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t\tbackground-color: #ffffff;\r\n\t\t.choose-type {\r\n\t\t\tdisplay: flex;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #929292;\r\n\t\t\t.description {\r\n\t\t\t\twidth: 480rpx;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #000000;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.distance {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tmargin-left: 120rpx;\r\n\t\t\tfont-size: 22rpx;\r\n\t\t\t.iconfont {\r\n\t\t\t\tfont-size: 22rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.jump-btn {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 50%;\r\n\t\t\tright: 10rpx;\r\n\t\t\ttransform: translate(-50%, -50%);\r\n\t\t\tfont-size: 22rpx;\r\n\t\t\tcolor: #929292;\r\n\t\t}\r\n\t}\r\n}\r\n.buy-content {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tposition: fixed;\r\n\tbottom: 0;\r\n\twidth: 100vw;\r\n\theight: 200rpx;\r\n\tborder-top: solid 1rpx #c9c9cb;\r\n\tbackground-color: #ffffff;\r\n\tz-index: 999;\r\n\t.product-price {\r\n\t\tflex: 1;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 40rpx;\r\n\t\tfont-weight: 900;\r\n\t}\r\n\t.buy-btn {\r\n\t\tflex: 2;\r\n\t\tdisplay: inline-block;\r\n\t\ttext-align: center;\r\n\t\tmargin: 0 50rpx;\r\n\t\tpadding: 20rpx 0rpx;\r\n\t\tborder-radius: 50rpx;\r\n\t\tbackground-color: #007aff;\r\n\t\tcolor: #ffffff;\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-weight: 900;\r\n\t}\r\n}\r\n.slide-up {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\twidth: 100vw;\r\n\theight: 100vh;\r\n\tz-index: 999;\r\n}\r\n.buy-page-mask {\r\n\tposition: absolute;\r\n\tbottom: 0;\r\n\twidth: 100vw;\r\n\theight: 100vh;\r\n\tz-index: 998;\r\n\tbackground-color: rgba(0, 0, 0, 0.5);\r\n}\r\n.buy-page {\r\n\tposition: absolute;\r\n\tbottom: -800rpx;\r\n\twidth: 100vw;\r\n\theight: 80vh;\r\n\tborder-radius: 30rpx;\r\n\tbackground-color: #f5f5f7;\r\n\tbox-sizing: border-box;\r\n\t.line {\r\n\t\twidth: 80rpx;\r\n\t\theight: 8rpx;\r\n\t\tmargin: 16rpx auto 30rpx auto;\r\n\t\tborder-radius: 30rpx;\r\n\t\tbackground-color: #c0c0c0;\r\n\t}\r\n}\r\n.scroll-view-content {\r\n\theight: 100vh;\r\n\tbox-sizing: border-box;\r\n}\r\n.buy-page-header {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tmargin: 30rpx 30rpx;\r\n\t.buy-page-product-img {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\twidth: 150rpx;\r\n\t\theight: 150rpx;\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-radius: 20rpx;\r\n\t}\r\n\t.buy-page-title {\r\n\t\tmargin-left: 20rpx;\r\n\t\tfont-size: 36rpx;\r\n\t\tfont-weight: 900;\r\n\t}\r\n}\r\n</style>\n","import mod from \"-!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./product-detail.vue?vue&type=style&index=0&id=685304e6&lang=scss&scoped=true&\"; export default mod; export * from \"-!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\MASS\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./product-detail.vue?vue&type=style&index=0&id=685304e6&lang=scss&scoped=true&\""],"sourceRoot":""}